<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Professional Bay Area construction cost calculator for painting, flooring, and window installation. Get accurate estimates based on your specific zip code.">
    <meta name="keywords" content="Bay Area construction, cost calculator, painting estimate, flooring cost, window installation, San Francisco contractor">
    <meta name="author" content="Bay Area Construction Calculator">
    <title>Bay Area Construction Cost Calculator Estimates</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #2c3e50 0%, #3498db 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .main-content {
            padding: 40px;
        }

        .form-section {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            border: 2px solid #e9ecef;
        }

        .form-section h2 {
            color: #2c3e50;
            margin-bottom: 20px;
            font-size: 1.5em;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
        }

        .form-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        .form-group label {
            font-weight: 600;
            margin-bottom: 8px;
            color: #2c3e50;
        }

        .form-group input,
        .form-group select {
            padding: 12px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s ease;
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            background-color: white;
        }

        .form-group input:focus,
        .form-group select:focus {
            outline: none;
            border-color: #3498db;
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1);
        }

        .service-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .service-card {
            background: white;
            border: 2px solid #e9ecef;
            border-radius: 15px;
            padding: 25px;
            transition: all 0.3s ease;
            cursor: pointer;
            -webkit-tap-highlight-color: rgba(0,0,0,0);
        }

        .service-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .service-card.active {
            border-color: #3498db;
            background: #f8f9ff;
        }

        .service-header {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }

        .service-checkbox {
            margin-right: 15px;
            width: 20px;
            height: 20px;
            accent-color: #3498db;
        }

        .service-title {
            font-size: 1.3em;
            font-weight: 600;
            color: #2c3e50;
        }

        .service-details {
            display: none;
        }

        .service-details.active {
            display: block;
            margin-top: 15px;
        }

        .calculate-btn {
            background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
            color: white;
            padding: 15px 40px;
            border: none;
            border-radius: 50px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
            margin: 20px 0;
            -webkit-tap-highlight-color: rgba(0,0,0,0);
            touch-action: manipulation;
        }

        .calculate-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(52, 152, 219, 0.3);
        }

        .results {
            background: linear-gradient(135deg, #27ae60 0%, #2ecc71 100%);
            color: white;
            padding: 30px;
            border-radius: 15px;
            margin-top: 30px;
            display: none;
        }

        .results.active {
            display: block;
        }

        .results h2 {
            font-size: 2em;
            margin-bottom: 20px;
            text-align: center;
        }

        .cost-breakdown {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .cost-item {
            background: rgba(255,255,255,0.1);
            padding: 15px;
            border-radius: 10px;
            text-align: center;
        }

        .cost-item h3 {
            margin-bottom: 10px;
            font-size: 1.1em;
        }

        .cost-item .amount {
            font-size: 1.5em;
            font-weight: 700;
        }

        .total-cost {
            text-align: center;
            background: rgba(255,255,255,0.2);
            padding: 20px;
            border-radius: 15px;
            margin-top: 20px;
        }

        .total-cost h3 {
            font-size: 1.5em;
            margin-bottom: 10px;
        }

        .total-cost .amount {
            font-size: 3em;
            font-weight: 700;
        }

        .sq-ft-calculator {
            background: #e8f4fd;
            border: 2px solid #3498db;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .sq-ft-calculator h4 {
            color: #2c3e50;
            margin-bottom: 15px;
            font-size: 1.1em;
            text-align: center;
        }

        .calc-sqft-btn {
            background: linear-gradient(135deg, #e67e22 0%, #d35400 100%);
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 25px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
            margin-top: 10px;
            -webkit-tap-highlight-color: rgba(0,0,0,0);
        }

        .calc-sqft-btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 5px 15px rgba(230, 126, 34, 0.3);
        }

        .footer {
            background: #2c3e50;
            color: white;
            text-align: center;
            padding: 20px;
            margin-top: 40px;
        }

        .footer p {
            opacity: 0.8;
            font-size: 0.9em;
        }

        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            
            .header {
                padding: 25px 20px;
            }
            
            .header h1 {
                font-size: 2em;
                line-height: 1.2;
            }
            
            .header p {
                font-size: 1em;
            }
            
            .main-content {
                padding: 20px;
            }
            
            .form-section {
                padding: 20px;
                margin-bottom: 20px;
            }
            
            .form-section h2 {
                font-size: 1.3em;
            }
            
            .form-row {
                grid-template-columns: 1fr;
                gap: 15px;
            }
            
            .service-options {
                grid-template-columns: 1fr;
            }
            
            .service-card {
                padding: 20px;
            }
            
            .service-title {
                font-size: 1.1em;
            }
            
            .calculate-btn {
                padding: 12px 30px;
                font-size: 16px;
            }
            
            .results {
                padding: 20px;
            }
            
            .results h2 {
                font-size: 1.6em;
            }
            
            .cost-breakdown {
                grid-template-columns: 1fr;
                gap: 15px;
            }
            
            .total-cost .amount {
                font-size: 2.2em;
            }
        }
        
        @media (max-width: 480px) {
            .container {
                border-radius: 10px;
                margin: 5px;
            }
            
            .header {
                padding: 20px 15px;
            }
            
            .header h1 {
                font-size: 1.6em;
            }
            
            .header p {
                font-size: 0.9em;
            }
            
            .main-content {
                padding: 15px;
            }
            
            .form-section {
                padding: 15px;
            }
            
            .form-section h2 {
                font-size: 1.2em;
            }
            
            .form-group label {
                font-size: 0.9em;
            }
            
            .form-group input,
            .form-group select {
                padding: 10px;
                font-size: 14px;
            }
            
            .service-card {
                padding: 15px;
            }
            
            .service-title {
                font-size: 1em;
            }
            
            .service-checkbox {
                width: 18px;
                height: 18px;
            }
            
            .calculate-btn {
                padding: 10px 25px;
                font-size: 14px;
            }
            
            .results {
                padding: 15px;
            }
            
            .results h2 {
                font-size: 1.4em;
            }
            
            .cost-item {
                padding: 12px;
            }
            
            .cost-item h3 {
                font-size: 1em;
            }
            
            .cost-item .amount {
                font-size: 1.3em;
            }
            
            .total-cost {
                padding: 15px;
            }
            
            .total-cost h3 {
                font-size: 1.3em;
            }
            
            .total-cost .amount {
                font-size: 1.8em;
            }
            
            .zipcode-info {
                padding: 12px;
                font-size: 0.9em;
            }

            .sq-ft-calculator {
                padding: 15px;
            }

            .sq-ft-calculator h4 {
                font-size: 1em;
            }

            .calc-sqft-btn {
                padding: 8px 15px;
                font-size: 12px;
            }

            .footer {
                padding: 15px;
            }
        }
        
        /* Touch-friendly improvements */
        @media (pointer: coarse) {
            .form-group input,
            .form-group select {
                padding: 14px;
                font-size: 16px; /* Prevents zoom on iOS */
            }
            
            .service-checkbox {
                width: 22px;
                height: 22px;
            }
            
            .calculate-btn {
                padding: 16px 40px;
                font-size: 18px;
            }
        }
        
        /* Landscape mobile orientation */
        @media (max-width: 768px) and (orientation: landscape) {
            .header {
                padding: 20px;
            }
            
            .header h1 {
                font-size: 1.8em;
            }
            
            .service-options {
                grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            }
            
            .cost-breakdown {
                grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🏗️ Bay Area Construction Calculator</h1>
            <p>Get accurate estimates for painting, flooring, and window installation</p>
        </div>

        <div class="main-content">
            <div class="form-section">
                <h2>📍 Location & Property Details</h2>
                <div class="form-row">
                    <div class="form-group">
                        <label for="zipcode">Bay Area Zip Code:</label>
                        <select id="zipcode">
                            <option value="">Select Zip Code</option>
                            <optgroup label="San Francisco">
                                <option value="94102">94102 - Downtown SF</option>
                                <option value="94103">94103 - SOMA</option>
                                <option value="94110">94110 - Mission District</option>
                                <option value="94117">94117 - Haight-Ashbury</option>
                                <option value="94121">94121 - Richmond District</option>
                            </optgroup>
                            <optgroup label="San Jose">
                                <option value="95110">95110 - Downtown San Jose</option>
                                <option value="95126">95126 - Willow Glen</option>
                                <option value="95128">95128 - Cambrian Park</option>
                            </optgroup>
                            <optgroup label="Oakland">
                                <option value="94601">94601 - East Oakland</option>
                                <option value="94610">94610 - Piedmont/Grand Lake</option>
                                <option value="94618">94618 - Montclair</option>
                            </optgroup>
                            <optgroup label="Peninsula">
                                <option value="94301">94301 - Palo Alto</option>
                                <option value="94025">94025 - Menlo Park</option>
                                <option value="94404">94404 - Foster City</option>
                            </optgroup>
                            <optgroup label="Marin County">
                                <option value="94941">94941 - Mill Valley</option>
                                <option value="94901">94901 - San Rafael</option>
                            </optgroup>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="propertyType">Property Type:</label>
                        <select id="propertyType">
                            <option value="single-family">Single Family Home</option>
                            <option value="condo">Condo/Townhouse</option>
                            <option value="apartment">Apartment</option>
                            <option value="commercial">Commercial Space</option>
                        </select>
                    </div>
                </div>
            </div>

            <div class="form-section">
                <h2>🏠 Services Selection</h2>
                <div class="service-options">
                    <div class="service-card" id="painting-card">
                        <div class="service-header">
                            <input type="checkbox" class="service-checkbox" id="painting">
                            <label for="painting" class="service-title">Interior/Exterior Painting</label>
                        </div>
                        <div class="service-details" id="painting-details">
                            <div class="sq-ft-calculator">
                                <h4>📐 Square Footage Calculator</h4>
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="painting-length">Length (ft):</label>
                                        <input type="number" id="painting-length" placeholder="e.g., 20" step="0.1">
                                    </div>
                                    <div class="form-group">
                                        <label for="painting-width">Width (ft):</label>
                                        <input type="number" id="painting-width" placeholder="e.g., 15" step="0.1">
                                    </div>
                                    <div class="form-group">
                                        <label for="painting-height">Height (ft):</label>
                                        <input type="number" id="painting-height" placeholder="e.g., 9" step="0.1">
                                    </div>
                                </div>
                                <button type="button" class="calc-sqft-btn" onclick="calculatePaintingSqft()">Calculate Square Footage</button>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="painting-sqft">Square Footage:</label>
                                    <input type="number" id="painting-sqft" placeholder="e.g., 1200">
                                </div>
                                <div class="form-group">
                                    <label for="painting-type">Paint Type:</label>
                                    <select id="painting-type">
                                        <option value="basic">Basic Paint</option>
                                        <option value="premium">Premium Paint</option>
                                        <option value="luxury">Luxury Paint</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="painting-rooms">Number of Rooms:</label>
                                    <input type="number" id="painting-rooms" placeholder="e.g., 3">
                                </div>
                                <div class="form-group">
                                    <label for="painting-location">Location:</label>
                                    <select id="painting-location">
                                        <option value="interior">Interior Only</option>
                                        <option value="exterior">Exterior Only</option>
                                        <option value="both">Interior & Exterior</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="service-card" id="flooring-card">
                        <div class="service-header">
                            <input type="checkbox" class="service-checkbox" id="flooring">
                            <label for="flooring" class="service-title">Flooring Installation</label>
                        </div>
                        <div class="service-details" id="flooring-details">
                            <div class="sq-ft-calculator">
                                <h4>📐 Square Footage Calculator</h4>
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="flooring-length">Length (ft):</label>
                                        <input type="number" id="flooring-length" placeholder="e.g., 20" step="0.1">
                                    </div>
                                    <div class="form-group">
                                        <label for="flooring-width">Width (ft):</label>
                                        <input type="number" id="flooring-width" placeholder="e.g., 15" step="0.1">
                                    </div>
                                </div>
                                <button type="button" class="calc-sqft-btn" onclick="calculateFlooringSqft()">Calculate Square Footage</button>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="flooring-sqft">Square Footage:</label>
                                    <input type="number" id="flooring-sqft" placeholder="e.g., 800">
                                </div>
                                <div class="form-group">
                                    <label for="flooring-type">Flooring Type:</label>
                                    <select id="flooring-type">
                                        <option value="laminate">Laminate</option>
                                        <option value="hardwood">Hardwood</option>
                                        <option value="luxury-vinyl">Luxury Vinyl</option>
                                        <option value="tile">Tile</option>
                                        <option value="carpet">Carpet</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="flooring-rooms">Number of Rooms:</label>
                                    <input type="number" id="flooring-rooms" placeholder="e.g., 2">
                                </div>
                                <div class="form-group">
                                    <label for="flooring-condition">Subfloor Condition:</label>
                                    <select id="flooring-condition">
                                        <option value="good">Good (No prep needed)</option>
                                        <option value="fair">Fair (Minor prep)</option>
                                        <option value="poor">Poor (Major prep)</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="service-card" id="windows-card">
                        <div class="service-header">
                            <input type="checkbox" class="service-checkbox" id="windows">
                            <label for="windows" class="service-title">Window Installation</label>
                        </div>
                        <div class="service-details" id="windows-details">
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="windows-count">Number of Windows:</label>
                                    <input type="number" id="windows-count" placeholder="e.g., 8">
                                </div>
                                <div class="form-group">
                                    <label for="windows-type">Window Type:</label>
                                    <select id="windows-type">
                                        <option value="standard">Standard Double-Hung</option>
                                        <option value="casement">Casement</option>
                                        <option value="sliding">Sliding</option>
                                        <option value="bay">Bay/Bow</option>
                                        <option value="picture">Picture</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="windows-size">Average Window Size:</label>
                                    <select id="windows-size">
                                        <option value="small">Small (under 15 sq ft)</option>
                                        <option value="medium">Medium (15-25 sq ft)</option>
                                        <option value="large">Large (25+ sq ft)</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="windows-quality">Window Quality:</label>
                                    <select id="windows-quality">
                                        <option value="basic">Basic</option>
                                        <option value="mid-range">Mid-Range</option>
                                        <option value="high-end">High-End</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <button class="calculate-btn" onclick="calculateCosts()">💰 Calculate Total Cost</button>

            <div class="results" id="results">
                <h2>📊 Cost Breakdown</h2>
                <div class="zipcode-info" id="zipcode-info"></div>
                <div class="cost-breakdown" id="cost-breakdown"></div>
                <div class="total-cost">
                    <h3>Total Project Cost</h3>
                    <div class="amount" id="total-amount">$0</div>
                </div>
            </div>
        </div>

        <div class="footer">
            <p>&copy; 2025 Bay Area Construction Calculator. Estimates are for planning purposes only.</p>
        </div>
    </div>

    <script>
        // Bay Area cost multipliers by zip code
        const zipCodeMultipliers = {
            // San Francisco - Premium
            '94102': { name: 'Downtown SF', multiplier: 1.4 },
            '94103': { name: 'SOMA', multiplier: 1.35 },
            '94110': { name: 'Mission District', multiplier: 1.25 },
            '94117': { name: 'Haight-Ashbury', multiplier: 1.3 },
            '94121': { name: 'Richmond District', multiplier: 1.2 },
            
            // San Jose - High
            '95110': { name: 'Downtown San Jose', multiplier: 1.15 },
            '95126': { name: 'Willow Glen', multiplier: 1.2 },
            '95128': { name: 'Cambrian Park', multiplier: 1.1 },
            
            // Oakland - Moderate to High
            '94601': { name: 'East Oakland', multiplier: 1.05 },
            '94610': { name: 'Piedmont/Grand Lake', multiplier: 1.25 },
            '94618': { name: 'Montclair', multiplier: 1.3 },
            
            // Peninsula - Very High
            '94301': { name: 'Palo Alto', multiplier: 1.45 },
            '94025': { name: 'Menlo Park', multiplier: 1.4 },
            '94404': { name: 'Foster City', multiplier: 1.35 },
            
            // Marin County - Very High
            '94941': { name: 'Mill Valley', multiplier: 1.5 },
            '94901': { name: 'San Rafael', multiplier: 1.3 }
        };

        // Base pricing (before location multiplier)
        const basePricing = {
            painting: {
                basic: { interior: 3.5, exterior: 4.5, both: 4.0 },
                premium: { interior: 5.0, exterior: 6.0, both: 5.5 },
                luxury: { interior: 7.0, exterior: 8.0, both: 7.5 }
            },
            flooring: {
                laminate: 8.0,
                hardwood: 15.0,
                'luxury-vinyl': 12.0,
                tile: 18.0,
                carpet: 6.0
            },
            windows: {
                standard: { basic: 450, 'mid-range': 650, 'high-end': 900 },
                casement: { basic: 500, 'mid-range': 750, 'high-end': 1100 },
                sliding: { basic: 400, 'mid-range': 600, 'high-end': 850 },
                bay: { basic: 1200, 'mid-range': 1800, 'high-end': 2500 },
                picture: { basic: 350, 'mid-range': 500, 'high-end': 750 }
            }
        };

        // Square footage calculation functions
        function calculatePaintingSqft() {
            const length = parseFloat(document.getElementById('painting-length').value) || 0;
            const width = parseFloat(document.getElementById('painting-width').value) || 0;
            const height = parseFloat(document.getElementById('painting-height').value) || 0;
            
            if (length > 0 && width > 0 && height > 0) {
                // Calculate wall area: 2 * (length * height) + 2 * (width * height)
                // This assumes painting walls, not floor/ceiling
                const wallArea = 2 * (length * height) + 2 * (width * height);
                document.getElementById('painting-sqft').value = Math.round(wallArea);
                
                // Show calculation result
                showCalculationResult('painting', `Wall Area: ${Math.round(wallArea)} sq ft`);
            } else {
                alert('Please enter length, width, and height values!');
            }
        }

        function calculateFlooringSqft() {
            const length = parseFloat(document.getElementById('flooring-length').value) || 0;
            const width = parseFloat(document.getElementById('flooring-width').value) || 0;
            
            if (length > 0 && width > 0) {
                // Calculate floor area: length * width
                const floorArea = length * width;
                document.getElementById('flooring-sqft').value = Math.round(floorArea);
                
                // Show calculation result
                showCalculationResult('flooring', `Floor Area: ${Math.round(floorArea)} sq ft`);
            } else {
                alert('Please enter length and width values!');
            }
        }

        function showCalculationResult(service, message) {
            // Remove any existing result
            const existingResult = document.querySelector(`#${service}-details .calculation-result`);
            if (existingResult) {
                existingResult.remove();
            }
            
            // Create and show new result
            const resultDiv = document.createElement('div');
            resultDiv.className = 'calculation-result';
            resultDiv.textContent = message;
            
            const calculator = document.querySelector(`#${service}-details .sq-ft-calculator`);
            calculator.appendChild(resultDiv);
            
            // Auto-remove after 3 seconds
            setTimeout(() => {
                if (resultDiv.parentNode) {
                    resultDiv.remove();
                }
            }, 3000);
        }

        // Handle service selection
        document.querySelectorAll('.service-checkbox').forEach(checkbox => {
            checkbox.addEventListener('change', function() {
                const card = this.closest('.service-card');
                const details = card.querySelector('.service-details');
                
                if (this.checked) {
                    card.classList.add('active');
                    details.classList.add('active');
                } else {
                    card.classList.remove('active');
                    details.classList.remove('active');
                }
            });
        });

        function calculateCosts() {
            const zipcode = document.getElementById('zipcode').value;
            if (!zipcode) {
                alert('Please select a zip code first!');
                return;
            }

            const locationMultiplier = zipCodeMultipliers[zipcode]?.multiplier || 1.0;
            const locationName = zipCodeMultipliers[zipcode]?.name || 'Selected Area';
            
            let totalCost = 0;
            let breakdown = [];

            // Calculate Painting Costs
            if (document.getElementById('painting').checked) {
                const sqft = parseFloat(document.getElementById('painting-sqft').value) || 0;
                const type = document.getElementById('painting-type').value;
                const location = document.getElementById('painting-location').value;
                const rooms = parseInt(document.getElementById('painting-rooms').value) || 1;
                
                if (sqft > 0) {
                    const baseRate = basePricing.painting[type][location];
                    const roomMultiplier = Math.max(1, rooms * 0.1 + 0.9); // Slight discount for multiple rooms
                    const cost = sqft * baseRate * locationMultiplier * roomMultiplier;
                    totalCost += cost;
                    breakdown.push({
                        service: 'Painting',
                        details: `${sqft} sq ft, ${type} paint, ${location}`,
                        cost: cost
                    });
                }
            }

            // Calculate Flooring Costs
            if (document.getElementById('flooring').checked) {
                const sqft = parseFloat(document.getElementById('flooring-sqft').value) || 0;
                const type = document.getElementById('flooring-type').value;
                const condition = document.getElementById('flooring-condition').value;
                const rooms = parseInt(document.getElementById('flooring-rooms').value) || 1;
                
                if (sqft > 0) {
                    const baseRate = basePricing.flooring[type];
                    const conditionMultiplier = condition === 'good' ? 1.0 : condition === 'fair' ? 1.2 : 1.5;
                    const roomMultiplier = Math.max(1, rooms * 0.05 + 0.95);
                    const cost = sqft * baseRate * locationMultiplier * conditionMultiplier * roomMultiplier;
                    totalCost += cost;
                    breakdown.push({
                        service: 'Flooring',
                        details: `${sqft} sq ft, ${type.replace('-', ' ')}, ${condition} condition`,
                        cost: cost
                    });
                }
            }

            // Calculate Window Costs
            if (document.getElementById('windows').checked) {
                const count = parseInt(document.getElementById('windows-count').value) || 0;
                const type = document.getElementById('windows-type').value;
                const size = document.getElementById('windows-size').value;
                const quality = document.getElementById('windows-quality').value;
                
                if (count > 0) {
                    const baseRate = basePricing.windows[type][quality];
                    const sizeMultiplier = size === 'small' ? 0.8 : size === 'medium' ? 1.0 : 1.4;
                    const volumeDiscount = count > 5 ? 0.9 : count > 10 ? 0.85 : 1.0;
                    const cost = count * baseRate * locationMultiplier * sizeMultiplier * volumeDiscount;
                    totalCost += cost;
                    breakdown.push({
                        service: 'Windows',
                        details: `${count} ${type} windows, ${size} size, ${quality} quality`,
                        cost: cost
                    });
                }
            }

            // Display Results
            if (breakdown.length > 0) {
                displayResults(breakdown, totalCost, locationName, locationMultiplier);
            } else {
                alert('Please select at least one service and enter the required details!');
            }
        }

        function displayResults(breakdown, totalCost, locationName, multiplier) {
            const resultsDiv = document.getElementById('results');
            const zipcodeInfo = document.getElementById('zipcode-info');
            const breakdownDiv = document.getElementById('cost-breakdown');
            const totalDiv = document.getElementById('total-amount');

            // Show location info
            zipcodeInfo.innerHTML = `
                <strong>Location:</strong> ${locationName}<br>
                <strong>Cost Adjustment:</strong> ${((multiplier - 1) * 100).toFixed(0)}% ${multiplier > 1 ? 'premium' : 'discount'} for this area
            `;

            // Show breakdown
            breakdownDiv.innerHTML = breakdown.map(item => `
                <div class="cost-item">
                    <h3>${item.service}</h3>
                    <p style="font-size: 0.9em; margin-bottom: 10px;">${item.details}</p>
                    <div class="amount">${item.cost.toLocaleString('en-US', {minimumFractionDigits: 0, maximumFractionDigits: 0})}</div>
                </div>
            `).join('');

            // Show total
            totalDiv.textContent = `${totalCost.toLocaleString('en-US', {minimumFractionDigits: 0, maximumFractionDigits: 0})}`;

            // Show results section
            resultsDiv.classList.add('active');
            resultsDiv.scrollIntoView({ behavior: 'smooth' });
        }
    </script>
</body>
</html>